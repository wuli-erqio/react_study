## 4. 城市选择模块
### 4.1 功能分析
* 业务: 切换城市,查看该城市下的房源信息
* 功能:
1. 顶部导航栏
2. 城市列表展示 
3. 使用索引快速切换城市 
4. 点击城市名称切换城市
* 第三方组件: react-virtualizaed长列表
* 难点: 数据格式处理, react-virtualized组件在项目中的使用

### 4.2 顶部导航栏
#### 步骤
1. 打开antd-mobile组件库NavBar
2. 拷贝并正确运行
3. 调整样式和结构

### 4.3 获取并处理城市列表数据
#### 步骤
1. 页面加载时,获取数据
2. 分析数据格式
3. 转换成需要格式
4. 获取热门城市数据,并添加到现有的数据列表中(顺序)
5. 获取当前定位城市数据,并添加到数组
#### 当前定位城市数据
* 问题: 首页模块中,需要获取定位城市,城市列表模块中也需要获取定位城市,如何处理
* 答案: 封装成函数, 那个页面要获取定位城市,直接调用该方法即可
1. 在utils目录中,新建index.js,在该文件中封装
2. 创建并导出获取定位城市的函数getCurrentCity
3. 判断localStorage中是否有定位城市
4. 如果没有,就使用首页中获取定位城市的代码来获取,并存储到本地存储中,然后返回该城市数据
5. 如果有, 直接返回本地存储中的城市数据